(function(e,r){"object"===typeof exports&&"object"===typeof module?module.exports=r():"function"===typeof define&&define.amd?define([],r):"object"===typeof exports?exports["dragAndDrop"]=r():e["dragAndDrop"]=r()})("undefined"!==typeof self?self:this,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s="fb15")}({"63e8":function(e,r,t){"use strict";t.r(r),t.d(r,"helper",(function(){return n}));const n={verifyIndexAndContainer(e,r,t){if("object"!==typeof e[r])throw new Error("Index with name "+r+" is not an object in state.");if(!(e[t]instanceof Array))throw new Error("Container with name "+t+" is not an array in state.")}}},f6fd:function(e,r){(function(e){var r="currentScript",t=e.getElementsByTagName("script");r in e||Object.defineProperty(e,r,{get:function(){try{throw new Error}catch(n){var e,r=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(e in t)if(t[e].src==r||"interactive"==t[e].readyState)return t[e];return null}}})})(document)},fb15:function(e,r,t){"use strict";t.r(r);var n={};t.r(n),t.d(n,"getArrayElWIdxByIdFactory",(function(){return X}));var o={};t.r(o),t.d(o,"setPropVal",(function(){return R})),t.d(o,"setProps",(function(){return M})),t.d(o,"setPropsOnObjectFactory",(function(){return V})),t.d(o,"setArrayElPropsByIdFactory",(function(){return N})),t.d(o,"addArrayElementFactory",(function(){return G})),t.d(o,"removeArrayElementByIdFactory",(function(){return L})),t.d(o,"resetArrayFactory",(function(){return $}));var a,i={};(t.r(i),t.d(i,"passThruActionsFactory",(function(){return U})),"undefined"!==typeof window)&&(t("f6fd"),(a=window.document.currentScript)&&(a=a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(t.p=a[1]));function s(e={},r={}){const t={};for(const o in r){const n=r[o],a=e[o],i=n.type,s=typeof a,l=n.required,d=o in e;if("undefined"===typeof i)throw new Error("type property on default is missing");if(l&&!d)throw new Error("Config property '"+o+"' is required but not provided.");if(d&&null!==i&&s!==i)throw new Error("Config property '"+o+"' must be of type '"+i+"' but is of type '"+s+"'.");t[o]=d?a:n.default}const n=[];for(const o in e)o in r||n.push(o);return n.length>0&&console.warn("The following config property was / properties were provided for which no defaults exist: "+n.toString()),t}function l(e){return"$"===e[0]&&"_"===e[1]&&e.substring(2).indexOf("_")>-1}function d(e,r=!1){if("string"!==typeof e){if(!0===r)throw new Error("Tried to write a non-string property to the object root.");return!1}const t=["data","props","propsData","computed","methods","watch","el","template","render","renderError","beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","destroyed","errorCaptured","directives","filters","components","parent","mixins","extends","provide","inject","name","delimiters","functional","model","inheritAttrs","comments"],n=-1===t.indexOf(e);if(!1===n&&!0===r)throw new Error("Adding property to object root failed. '"+e+"' is a reserved Vue property.");return n}function p(e,r){for(const t in r){if(t in e)throw new Error("Tried to write property on component that already exists: "+t);if(!l(t))throw new Error("Private property names should be in the form of: $_namespace_propertyName. This is important especially for plugins in order to avoid name collisions. See also https://vuejs.org/v2/style-guide/#Private-property-names-essential");e[t]=r[t]}}function u(e,r){if("string"!==typeof r)throw new Error("'name' parameter must be of type string. Got: "+typeof r);if("object"!==typeof e||!("name"in e))throw new Error("'component' parameter must be an object with the property name.");e.name=r}function c(e,r,t){if("string"!==typeof r)throw new Error("namespace parameter must be of type string.");if("object"!==typeof t)throw new Error("module parameter must be of type object.");const n=["state","getters","mutations","actions","modules"];let o=0;if(n.forEach(e=>{t.hasOwnProperty(e)&&o++}),0===o)throw new Error("Vuex module is of unexpected structure. Expected to see at least one of: "+n.toString(","));if("undefined"===typeof e||"undefined"===typeof e.dispatch)throw new Error(`Plugin ${r} requires vuex instance as config parameter: Vue.use(${r}, {vuex: instanceOfVuex}).`);e.registerModule(r,t)}function f(e,r,t={}){if(!("version"in e))throw new Error("The version property is missing on the Vue instance.");if(e.version.replace(/[0-9\.]/g,"").length>0)throw new Error("Vue version is not in a dot-separated format. Got: "+e.version);if((""+r).replace(/[0-9\.]/g,"").length>0)throw new Error("The required version is not in a dot-separated format. Got: "+e.version);const n=e.version.split(".").map(e=>parseInt(e)),o=r.split(".").map(e=>parseInt(e)),a=void 0!==t.throwInsteadOfReturn&&t.throwInsteadOfReturn;let i=!0;if(o.forEach(e=>{if("number"!==typeof e||isNaN(e))throw new Error("The required version is not in the format x, x.y or x.y.z. Got: "+r)}),o.length>3||o.length<1)throw new Error("The required version is not in the format x, x.y or x.y.z. Got: "+r);for(let s=0,l=o.length;s<l;s++){const e=n[s],r=o[s];if(e!==r){i=!(e<r);break}}if(!1===i&&!0===a)throw new Error("You do not have the required Vue version of "+r+". You have: "+e.version);return i}const g={configParser:s,isValidPrivateProperty:l,isValidRootProperty:d,componentOptionsWriter:p,renameComponent:u,registerVuexModule:c,ensureVersion:f};var y;function b(e){if("draggable"!==e&&"droppable"!==e)throw new Error("Invalid directive argument. Use v-drag&drop:draggable|droppable. Got: "+e);return e}function m(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===r.selector)return e;var t=document.getElementById(r.selector);if(null===t)throw new Error("Directive option 'selector' ("+r.selector+") did not return a DOM element.");return t}function h(e,r){var t=e.value||{},n={mode:r,type:t.type,greedy:!0===e.modifiers.greedy,draggableOnly:!0===e.modifiers.only,drag:t.drag,dragstop:t.dragstop,dragstart:t.dragstart};return n}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data||{}}function w(e,r){var t={mousedown:"draggable",mouseup:"droppable",mouseupAlways:"done"},n=t[e];if(void 0===n)throw new Error("Received undefined event in draggable or droppable callback: "+e);y(n,r)}function E(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new r,o=t.namespace;return y=function(r,t){e.dispatch(o+"/"+r,t)},{inserted:function(e,r,t){var o=e,a=b(r.arg),i=v(r.value),s=m(o,r.value),l=h(r,a);n.addEventListener(o,s,l,i,w)},unbind:function(e,r,t){n.removeEventListener(r.arg,e)}}}var x=E;function _(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function k(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,r,t){return r&&k(e.prototype,r),t&&k(e,t),e}var T,O=null,j={startX:null,startY:null,endX:null,endY:null,curX:null,curY:null,draggableEl:null,draggableX:null,draggableY:null,draggableNewX:null,draggableNewY:null,draggableType:null,draggableData:null,droppableEl:null,droppableX:null,droppableY:null,droppableType:null,droppableData:null,_cloneStartX:null,_cloneStartY:null};Object.defineProperty(j,"elDraggable",{get:function(){return console.error("DEPRECATED: use dragAndDropParameters.draggableEl instead of .elDraggable"),j.draggableEl},enumerable:!1}),Object.defineProperty(j,"elDroppable",{get:function(){return console.error("DEPRECATED: use dragAndDropParameters.droppableEl instead of .elDroppable"),j.droppableEl},enumerable:!1});var C=function(e){var r=j;r.curX=e.pageX,r.curY=e.pageY;var t=r.curX-r.startX,n=r.curY-r.startY;r.draggableNewX=r.draggableX+t,r.draggableNewY=r.draggableY+n,null!==O&&(O.style.left=r._cloneStartX+t+"px",O.style.top=r._cloneStartY+n+"px")},P=function(){function e(){_(this,e),this.isDragging=!1,this.draggableGotRemoved=!1,this.processingDroppables=!1,this.droppables=[],this.styleBackup=null,this.listeners=[]}return D(e,[{key:"_getRect",value:function(e){var r=e.getBoundingClientRect(),t=window.getComputedStyle(e).position,n="fixed"===t?r.x+window.pageXOffset:r.x,o="fixed"===t?r.y+window.pageYOffset:r.y;return{x:n,y:o,width:r.w,height:r.h}}},{key:"_createCopyClone",value:function(e,r,t){var n=e.cloneNode(!0),o=document.defaultView.getComputedStyle(e,null);return n.style.color=o.color,n.style.backgroundColor=o.backgroundColor,n.style.border=o.border,n.style.borderRadius=o.borderRadius,n.style.margin="0px",n.style.opacity=.6,n}},{key:"_createCheapClone",value:function(e,r,t){var n=e.cloneNode(!1);return n.style.border="1px solid yellow",n.style.boxShadow="box-shadow: 0px 0px 9px 5px rgba(231,166,26,1)",n.style.backgroundColor="#eeeeee",n}},{key:"_setupClone",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==t){var n=this._getRect(e),o=n.x,a=n.y;O="copy"===t?this._createCopyClone(e,r,n):this._createCheapClone(e,r,n),O.id="cloned_"+O.id,O.style.left=o+"px",O.style.top=a+"px",O.style.width=n.width+"px",O.style.height=n.height+"px",O.style.pointerEvents="none",//!!
O.style.position="absolute",r._cloneStartX=o,r._cloneStartY=a,document.body.appendChild(O)}}},{key:"_setTempStyle",value:function(){this.styleBackup=document.body.style.userSelect,document.body.style.userSelect="none"}},{key:"_reset",value:function(){for(var e in this.isDragging=!1,this.draggableGotRemoved=!1,j)j[e]=null;null!==O&&(document.body.removeChild(O),O=null),document.body.style.userSelect=this.styleBackup,document.removeEventListener("mousemove",T),T=null,this.styleBackup=null}},{key:"_evaluateDropOnSelf",value:function(e,r){for(var t=0,n=r.length;t<n;t++)if(r[t].el===e)return t;return-1}},{key:"_verifyMode",value:function(e){if("draggable"!==e&&"droppable"!==e)throw new Error("mode parameter must be 'draggable' or 'droppable'. Got: "+e)}},{key:"_parseConfig",value:function(e){if(this._verifyMode(e.mode),"boolean"!==typeof e.greedy&&(e.greedy=!1),"boolean"!==typeof e.draggableOnly&&(e.draggableOnly=!1),void 0===e.type&&!1===e.greedy&&!1===e.draggableOnly)throw new Error("Directive requires 'type' value unless modifiers draggable.only OR droppable.greedy are given.");e.delegate=document.getElementById(e.delegate);var r="draggable"===e.mode;e.draggableType=r?e.type:null,e.droppableType=r?null:e.type}},{key:"_evaluateDroppableWatcher",value:function(e,r,t,n){if(!1===this.draggableGotRemoved){for(var o=this._evaluateDropOnSelf(t.draggableEl,this.droppables),a=0,i=this.droppables.length;a<i;a++){var s=this.droppables[a],l=o===a;if(!l&&(r.droppableType=s.type,this._writeDroppableParameters(t,s.el,e,r,s.data),n("mouseup",t),s.greedy))break}"function"===typeof r.dragstop&&(this._writeDroppableParameters(t,e.target,e,r,null),r.dragstop("mouseup",t))}this.droppables.splice(0,this.droppables.length),this.processingDroppables=!1,n("mouseupAlways",t),this._reset()}},{key:"_initDroppableWatcher",value:function(e,r,t){if(!this.processingDroppables){var n=this;document.addEventListener("mouseup",(function o(a){setTimeout((function(){n._evaluateDroppableWatcher(a,e,r,t)}),1),document.removeEventListener("mouseup",o,!0)}),!0),this.processingDroppables=!0}}},{key:"_writeDroppableParameters",value:function(e,r,t,n,o){var a=r!==document?r:r.body,i=this._getRect(a);e.droppableEl=a,e.droppableData=o,e.droppableType=n.droppableType,e.droppableX=i.x,e.droppableY=i.y,e.endX=t.pageX,e.endY=t.pageY}},{key:"_writeDraggableParameters",value:function(e,r,t,n,o){var a=r!==document?r:r.body,i=this._getRect(a);e.startX=t.pageX,e.startY=t.pageY,e.curX=t.pageX,e.curY=t.pageY,e.draggableData=o,e.draggableType=n.draggableType,e.draggableEl=a,e.draggableX=i.x,e.draggableY=i.y,e.draggableNewX=e.draggableX,e.draggableNewY=e.draggableY}},{key:"_mouseup",value:function(e,r,t,n){this.droppables.push({el:e,data:n,type:t.droppableType,greedy:t.greedy})}},{key:"_mousedown",value:function(e,r,t,n,o){this.isDragging=!0,this._writeDraggableParameters(j,e,r,t,n),this._initDroppableWatcher(t,j,o),this._setupClone(e,j,"copy"),this._setTempStyle(),void 0!==n.options&&void 0!==n.options.dragging&&(t.drag=n.options.dragging,console.error("DEPRECATED: do not use 'data.options.dragging' but 'config.drag'")),T="function"===typeof t.drag?t.drag:C,document.addEventListener("mousemove",T),o("mousedown",j),"function"===typeof t.dragstart&&t.dragstart("mousedown",j)}},{key:"addEventListener",value:function(e,r,t,n,o){var a=this;this._parseConfig(t);var i=t.mode,s=this.listeners.length;if("draggable"===i){var l=!1===t.draggableOnly?o:function(){};this.listeners[s]={cb:function(e){a._mousedown(r,e,t,n,l)},el:e},e.addEventListener("mousedown",this.listeners[s].cb)}else"droppable"===i&&(this.listeners[s]={cb:function(e){a._mouseup(r,e,t,n)},el:e},e.addEventListener("mouseup",this.listeners[s].cb))}},{key:"removeEventListener",value:function(e,r){this._verifyMode(e);var t=!1,n=this.listeners;this.isDragging&&(this.draggableGotRemoved=!0);for(var o=0,a=n.length;o<a;o++)if(n[o].el==r){var i="draggable"===e?"mousedown":"mouseup";r.removeEventListener(i,n[o].cb),n[o].el=null,n[o].cb=null,n.splice(o,1),t=!0;break}if(!t)throw new Error("Failed to remove event listener in unbind hook. This may cause a memory leak.")}}]),e}(),S=P;const{helper:A}=t("63e8");function Y(e,r,t){return n=>{const o=r[n];return"number"!==typeof o?t:e[o]}}const X=function(e={}){const r=e.container||"container",t=e.index||"index",n="noResult"in e?e.noResult:null;return function(e){return A.verifyIndexAndContainer(e,t,r),Y(e[r],e[t],n)}},{helper:I}=t("63e8"),R=function(e,r){if("undefined"===typeof r||!("prop"in r)||!("val"in r))throw new Error("Missing property on data parameter: provide 'prop' and 'val'.");if(!(r.prop in e))throw new Error("Tried to set non-existing property: "+r.prop);e[r.prop]=r.val};function F(e,r,t){if(e[t]instanceof Array&&"arrOp"in r)switch(r.arrOp){case"push":e[t].push(r[t]);break;case"unshift":e[t].unshift(r[t]);break;case"pop":e[t].pop();break;case"shift":e[t].shift();break;case"insert":const n=r[t],o=e[t];if("object"!==typeof n)throw new Error("Failed to insert: the property value must be an object with properties value and index or element.");const{value:a,index:i,element:s}=n;if("number"!==typeof i&&void 0===s)throw new Error("Failed to insert: either provide on the property value an index property (number) or an element to insert at.");const l="number"===typeof i?i:o.indexOf(s);if(!(l>-1))throw new Error("Failed to insert: the element property to insert at does not exist in the array.");o.splice(l,0,a);break;case"delete":const d=e[t].indexOf(r[t]);if(!(d>-1))throw new Error("Failed to delete: the element to delete does not exist in the array.");e[t].splice(d,1);break;default:throw new Error("Unknown array operation provided: "+r.arrOp)}else"recur"===r.objOp?M(e[t],r[t]):e[t]=r[t]}const M=function(e,r){const t=[];for(const n in r)"arrOp"!==n&&"objOp"!==n&&(n in e?"object"!==typeof e[n]?e[n]=r[n]:F(e,r,n):t.push(n));if(t.length>0)throw new Error("Tried to set at least one non-existing property: "+t.join(","))},V=function(e={}){const r=e.object;if(void 0===r)throw new Error("Missing mandatory settings parameter 'setting.object'");return function(e,t){if(!(r in e))throw new Error("The object with the name on the state does not exist: "+r);M(e[r],t)}};function B(e,r,t){const n=t.id;if("undefined"===typeof n)throw new Error("Missing id on data parameter.");const o=r[n];if("undefined"===typeof o)throw new Error("Id not found in index while setting prop/s on element: "+JSON.stringify(t));const a=e[o];delete t.id,M(a,t)}const N=function(e={}){const r=e.container||"container",t=e.index||"index";return function(e,n){I.verifyIndexAndContainer(e,t,r),B(e[r],e[t],n)}},G=function(e={}){const r=e.container||"container",t=e.index||"index";return function(e,n){if(I.verifyIndexAndContainer(e,t,r),!("id"in n))throw new Error("Failed to add element because it has no id: "+JSON.stringify(n));const o=e[r].push(n)-1;e[t][n.id]=o}},L=function(e={}){const r=e.container||"container",t=e.index||"index";return function(e,n){I.verifyIndexAndContainer(e,t,r);const o=n.id,a=e[r],i=e[t][o];if(void 0===a[i])throw new Error("Delete failed. Tried to remove id from undefined index: "+i);a.splice(i,1),delete e[t][o];for(let r=i,s=a.length;r<s;r++)e[t][a[r].id]=r}};function q(e,r,t){e[r]=t}function W(e,r){e.splice(0,e.length),e.push(...r)}const $=function(e={}){const r=e.container||"container",t=e.index||"index",n=!("preserveReference"in e)||e.preserveReference;return function(e,o=[]){I.verifyIndexAndContainer(e,t,r);const a=e[r],i=o.elements||[];n?W(a,i):q(e,r,i),e[t]={};for(let r=0,n=a.length;r<n;r++)e[t][a[r].id]=r}},U=function(e){if("string"===typeof e)return function(r,t,n){r.commit(e,t,n)};if(e instanceof Array){const r={};return e.forEach(e=>{if("string"!==typeof e)throw new Error("Expected element of array to be of type string. Got: "+typeof e);r[e]=function(r,t,n){r.commit(e,t,n)}}),r}if("object"===typeof e){for(const r in e){const t=r,n=e[r];e[t]=function(e,r,t){e.commit(n,r,t)}}return e}throw new Error("Expected parameter to be of type string, object or array. Got: "+typeof e)};const z=o,J=i,{getArrayElWIdxByIdFactory:H}=n,{setPropVal:K,setProps:Q,setArrayElPropsByIdFactory:Z,setPropsOnObjectFactory:ee,addArrayElementFactory:re,removeArrayElementByIdFactory:te,resetArrayFactory:ne}=o,{passThruActionsFactory:oe}=J;function ae(e){return ae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}var ie={namespaced:!0,state:{dragging:!1,id:-1,type:null,callbacks:{}},getters:{dragging:function(e){return e.dragging},draggableId:function(e){return e.dragging?e.id:null},draggableType:function(e){return e.dragging?e.type:null}},mutations:{set:z.setPropVal,addCallback:function(e,r){var t=r.dragType,n=r.dropType,o=r.action;void 0===e.callbacks[t]&&(e.callbacks[t]={}),e.callbacks[t][n]=o}},actions:{draggable:function(e,r){e.commit("set",{prop:"dragging",val:!0}),e.commit("set",{prop:"type",val:r.draggableType}),null!==r.draggableData&&void 0!==r.draggableData.id&&e.commit("set",{prop:"id",val:r.draggableData.id})},droppable:function(e,r){var t=e.state.callbacks,n=r.draggableType,o=r.droppableType;if(void 0!==t[n]&&void 0!==t[n][o])return e.dispatch(t[n][o],r,{root:!0})},done:function(e){e.commit("set",{prop:"dragging",val:!1}),e.commit("set",{prop:"id",val:-1}),e.commit("set",{prop:"type",val:null})},register:function(e,r){if("undefined"===typeof r.action||"undefined"===typeof r.dragType||void 0===ae(r.dropType))throw new Error("Missing paratmeter/s: please provide: {action, dragType, dropType}");e.commit("addCallback",r)}}};function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={namespace:{type:"string",default:"drag&drop"},directive:{type:"string",default:"drag&drop"},vuex:{type:null}};return g.configParser(e,r)}var le={install:function(e,r){var t=r.vuex,n=se(r),o=n.namespace;g.registerVuexModule(t,o,ie),e.directive(n.directive,x(t,S,{namespace:o,delegateEvents:n.delegateEvents}))}},de=le;t.d(r,"installer",(function(){return le}));r["default"]=de}})}));