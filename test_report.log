 MOCHA  Testing...



  cloneController.js
    √ createClone does nothing if type null
    √ createClone creates one DOM node as cloneAnchor (110ms)
    √ createClone creates child DOM nodes of draggables parameter
    √ createClone sets willChange according to config (59ms)
    √ updateClone updates transform property of clone anchor
    √ destroyClone removes clone from DOM

  directive.js
    √ directive returns install function
    √ directive installer returns object with properties inserted and unbind
    √ inserted calls dragAndDrop with correct parameters
    √ unbind calls dragAndDrop with correct parameters
    √ directive throws if arg is not 'draggable' / 'droppable'
    √ directive throws if the selector option does not return DOM element
    √ directive throws if an undefined event is received in the store callback

  dragAndDrop.js - Integration testing
    √ all adhoc event listeners cleaned up (160ms)
    √ all delegate event listeners cleaned up
    √ all droppable mouseup callbacks fire before evaluation function
    √ call to removeEventListener mid dragging prevents droppable mouseup callbacks (315ms)
    √ all callbacks fire with parameters (469ms)
    √ optional custom dragstart callback fires (315ms)
    √ optional custom drag callback fires (465ms)
    √ optional custom dragstop callbacks fire when not over droppable (316ms)
    √ optional custom dragstop callbacks fire when over droppable (322ms)

  dragAndDrop.js
    √ addEventListener calls config parser with config parameter
    √ addEventListener stores draggable listener information
    √ addEventListener adds draggable event listener
    √ addEventListener stores droppable listener information
    √ addEventListener adds droppable event listener
    √ addEventListener throws if callbacks parameter has invalid interface
    √ removeEventListener calls mode verifier with mode parameter
    √ removeEventListener sets draggableGotRemoved if mid dragging
    √ removeEventListener removes draggable listener
    √ removeEventListener removes droppable listener
    √ removeEventListener throws if element parameter not found in listeners list

  helpers.js
    √ getRectAbs returns expected data object
    √ getRectAbs extracts expected values from DOM node
    √ getRectAbs throws for invalid pixel values

  index.js
    √ index.js provides expected exports
    √ installer calls all utility functions
    √ installer registers store with correct namespace
    √ installer registers directive with correct name

  PubSub.js
    √ PubSub instantiated with properties from static events
    √ PubSub.subscribe adds callback to event array
    √ PubSub.subscribe throws for undefined event
    √ PubSub.notify calls callbacks of events with name and data parameter
    √ PubSub.notify throws for undefined event
    √ PubSub.getEvent returns event name by key
    √ PubSub.getEvent throws for undefined event

  store.js
    √ getters.dragging returns true or false
    √ getters.draggableId returns id of draggable if dragging, or null if not
    √ getters.draggableType returns type of draggable if dragging, or null if not
    √ mutations.set uses correct function
    √ mutations.addCallback adds new callback types
    √ actions.draggable inits state with manadatory event parameters
    √ actions.draggable inits state with optional event parameters
    √ actions.droppable dispatches callback action for matching drag/drop types
    √ actions.droppable passes through data parameter to user action
    √ actions.done resets state
    √ actions.register throws for missing parameters


  58 passing (3s)

 MOCHA  Tests completed successfully
